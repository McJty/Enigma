# In game it is possible to tag items and objects using the 'tagger'

on init:
    position testpos 808 4 1903 0
    position lockeddoor 800 4 1903 0

    itemstack mysteriouskey:
        item "enigma:key"
        meta 1
        description "Mysterious key"

on start:
    state main beginroom

pwhile pstate(health) == bad:
    on start:
        message "Woot"

while state(main) == beginroom:
    on rightclickblock testpos:
        message "You receive a mysterious key"
        give mysteriouskey

    on rightclickblock lockeddoor:
        if hasitem(mysteriouskey):
            message "The door opens!"
        else:
            message "You need a key!"

