# In game it is possible to tag items and objects using the 'tagger'

on start:
    var score = 0
    position diamondblock 607 4 317 0
    state main = beginroom

on obtainitem minecraft:netherstar:
    var score = score+1

while main = beginroom:
    on start:
        message "And the adventure starts!"

    on obtaintag firstroomkey:
        message "With this key you can open the door to the second room!"
        state main = secondroom
        tag firstroomdoor = open

    on rightclickblock diamondblock:
        message "You try to pick up the diamond block"
        message "but it is too heavy. You need a tool"

while main = secondroom:
    on blockat rubble = minecraft:air:
        message "You destroy the rubble blocking the door!"
        state main = finalroom

while main = finalroom:
    on delay 100:
        message "You have the feeling there must be some treasure here"

    on open treasurechest:
        message "There it is!"
        state main = theend

while main = theend:
    on start:
        message "You win the game!"

